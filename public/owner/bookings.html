<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Manage Bookings - Salon Booking</title>
  <link rel="stylesheet" href="/css/style.css">
  <style>
    .filter-bar {
      display: flex;
      gap: 1rem;
      align-items: flex-end;
      flex-wrap: wrap;
      margin-bottom: 1.5rem;
      background: var(--color-white);
      padding: 1rem 1.25rem;
      border-radius: var(--radius-md);
      box-shadow: var(--shadow-sm);
    }
    .filter-bar .form-group {
      margin-bottom: 0;
      min-width: 160px;
    }
    .filter-bar .btn {
      margin-bottom: 0;
      white-space: nowrap;
    }
    .booking-card {
      background: var(--color-white);
      border-radius: var(--radius-md);
      box-shadow: var(--shadow-sm);
      margin-bottom: 0.75rem;
      overflow: hidden;
      transition: box-shadow 0.2s ease;
    }
    .booking-card:hover {
      box-shadow: var(--shadow-md);
    }
    .booking-card-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 1rem 1.25rem;
      cursor: pointer;
      flex-wrap: wrap;
      gap: 0.5rem;
    }
    .booking-card-header:hover {
      background-color: rgba(108, 99, 255, 0.02);
    }
    .booking-card-left {
      display: flex;
      align-items: center;
      gap: 1.25rem;
      flex-wrap: wrap;
    }
    .booking-customer {
      font-weight: 600;
      color: var(--color-dark);
      min-width: 120px;
    }
    .booking-datetime {
      font-size: 0.85rem;
      color: var(--color-dark-light);
    }
    .booking-price {
      font-weight: 600;
      color: var(--color-primary);
    }
    .booking-card-right {
      display: flex;
      align-items: center;
      gap: 0.75rem;
      flex-wrap: wrap;
    }
    .booking-detail {
      display: none;
      padding: 0 1.25rem 1rem;
      border-top: 1px solid var(--color-border);
    }
    .booking-detail.open {
      display: block;
    }
    .booking-detail-row {
      display: flex;
      justify-content: space-between;
      padding: 0.4rem 0;
      font-size: 0.9rem;
    }
    .booking-detail-row .label {
      color: var(--color-dark-light);
    }
    .booking-detail-row .value {
      font-weight: 500;
      color: var(--color-dark);
    }
    .booking-services-list {
      margin-top: 0.5rem;
      padding-top: 0.5rem;
      border-top: 1px dashed var(--color-border);
    }
    .booking-services-list li {
      font-size: 0.85rem;
      color: var(--color-dark-light);
      padding: 0.15rem 0;
    }
    .booking-actions {
      margin-top: 0.75rem;
      padding-top: 0.75rem;
      border-top: 1px solid var(--color-border);
      display: flex;
      gap: 0.5rem;
    }
    @media (max-width: 768px) {
      .filter-bar { flex-direction: column; align-items: stretch; }
      .booking-card-header { flex-direction: column; align-items: flex-start; }
      .booking-card-right { width: 100%; justify-content: space-between; }
    }
  </style>
</head>
<body>
  <nav class="navbar">
    <div class="container">
      <a href="/" class="navbar-brand">Salon Booking</a>
      <button class="navbar-toggle" id="navToggle">&#9776;</button>
      <div class="navbar-links" id="navLinks">
        <a href="/" class="nav-link">Home</a>
        <a href="/login.html" class="nav-link nav-auth">Login</a>
        <a href="/register.html" class="nav-link nav-auth">Register</a>
        <a href="/owner/dashboard.html" class="nav-link nav-owner" style="display:none">Dashboard</a>
        <a href="/owner/profile.html" class="nav-link nav-owner" style="display:none">Profile</a>
        <a href="/owner/bookings.html" class="nav-link nav-owner" style="display:none">Bookings</a>
        <a href="/customer/dashboard.html" class="nav-link nav-customer" style="display:none">Browse Salons</a>
        <a href="/customer/my-bookings.html" class="nav-link nav-customer" style="display:none">My Bookings</a>
        <span class="nav-link nav-user" style="display:none">
          Hi, <span id="nav-user-name"></span>
          <a href="#" id="logout-btn" class="nav-link">Logout</a>
        </span>
      </div>
    </div>
  </nav>

  <div class="container" style="padding-top:1.5rem;">
    <div class="page-header">
      <h1>Manage Bookings</h1>
      <p>View and manage all your salon bookings</p>
    </div>

    <!-- Filter Bar -->
    <div class="filter-bar">
      <div class="form-group">
        <label for="filter-date">Date</label>
        <input type="date" id="filter-date" class="form-control">
      </div>
      <div class="form-group">
        <label for="filter-status">Status</label>
        <select id="filter-status" class="form-control">
          <option value="">All</option>
          <option value="pending">Pending</option>
          <option value="confirmed">Confirmed</option>
          <option value="completed">Completed</option>
          <option value="rejected">Rejected</option>
          <option value="cancelled">Cancelled</option>
        </select>
      </div>
      <button class="btn btn-primary" id="filter-btn">Filter</button>
      <button class="btn btn-outline" id="clear-filter-btn">Clear</button>
    </div>

    <!-- Bookings List -->
    <div id="bookings-list">
      <div class="loading-spinner-container">
        <div class="loading-spinner"></div>
        <p class="loading-text">Loading bookings...</p>
      </div>
    </div>
  </div>

  <div id="alerts"></div>
  <script src="/lib/jquery-3.7.1.min.js"></script>
  <script>window.jQuery || document.write('<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js"><\/script>')</script>
  <script src="/js/api.js"></script>
  <script src="/js/utils.js"></script>
  <script src="/js/auth.js"></script>
  <script src="/js/owner.js"></script>
</body>
</html>
